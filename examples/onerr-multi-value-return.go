// Generated by Kukicha v0.0.3 (requires Go 1.26+)
//
// Performance: GOEXPERIMENT=jsonv2 enables faster JSON parsing (2-10x improvement)

package main

import (
	"errors"
	"fmt"
)

//line /var/home/tluker/repos/go/kukicha/examples/onerr-multi-value-return.kuki:6
func Parse(s string) (int, error) {
//line /var/home/tluker/repos/go/kukicha/examples/onerr-multi-value-return.kuki:7
	if s == "42" {
//line /var/home/tluker/repos/go/kukicha/examples/onerr-multi-value-return.kuki:8
		return 42, nil
	}
//line /var/home/tluker/repos/go/kukicha/examples/onerr-multi-value-return.kuki:9
	return 0, errors.New("invalid number")
}

//line /var/home/tluker/repos/go/kukicha/examples/onerr-multi-value-return.kuki:11
func Fetch(url string) (string, error) {
//line /var/home/tluker/repos/go/kukicha/examples/onerr-multi-value-return.kuki:12
	if url == "ok" {
//line /var/home/tluker/repos/go/kukicha/examples/onerr-multi-value-return.kuki:13
		return "data", nil
	}
//line /var/home/tluker/repos/go/kukicha/examples/onerr-multi-value-return.kuki:14
	return "", errors.New("fetch failed")
}

//line /var/home/tluker/repos/go/kukicha/examples/onerr-multi-value-return.kuki:16
func main() {
//line /var/home/tluker/repos/go/kukicha/examples/onerr-multi-value-return.kuki:18
	result1, err1 := Parse("42")
	if err1 != nil {
		panic("parse failed")
	}
//line /var/home/tluker/repos/go/kukicha/examples/onerr-multi-value-return.kuki:19
	fmt.Println("Test 1 passed:", result1)
//line /var/home/tluker/repos/go/kukicha/examples/onerr-multi-value-return.kuki:22
	result2, err2 := Parse("42")
	if err2 != nil {
		panic("parse piped failed")
	}
//line /var/home/tluker/repos/go/kukicha/examples/onerr-multi-value-return.kuki:23
	fmt.Println("Test 2 passed:", result2)
//line /var/home/tluker/repos/go/kukicha/examples/onerr-multi-value-return.kuki:26
	result3, err3 := Parse("invalid")
	if err3 != nil {
		result3 = 0
	}
//line /var/home/tluker/repos/go/kukicha/examples/onerr-multi-value-return.kuki:27
	fmt.Println("Test 3 with default:", result3)
}
