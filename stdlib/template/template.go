// Generated by Kukicha v0.0.5 (requires Go 1.26+)
//
// Performance: GOEXPERIMENT=jsonv2 enables faster JSON parsing (2-10x improvement)

package template

import (
	"bytes"
	"text/template"
)

//line /var/home/tluker/repos/go/kukicha/stdlib/template/template.kuki:9
type TemplateData struct {
	Content string
	Data    map[string]any
}

//line /var/home/tluker/repos/go/kukicha/stdlib/template/template.kuki:15
func Render(tmplStr string) TemplateData {
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template.kuki:16
	return TemplateData{Content: tmplStr, Data: make(map[string]any)}
}

//line /var/home/tluker/repos/go/kukicha/stdlib/template/template.kuki:20
func Data(td TemplateData, data map[string]any) TemplateData {
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template.kuki:21
	td.Data = data
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template.kuki:22
	return td
}

//line /var/home/tluker/repos/go/kukicha/stdlib/template/template.kuki:26
func Execute(td TemplateData) (string, error) {
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template.kuki:27
	tmpl, err := template.New("template").Parse(td.Content)
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template.kuki:28
	if err != nil {
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template.kuki:29
		return "", err
	}
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template.kuki:31
	buf := bytes.Buffer{}
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template.kuki:32
	err = tmpl.Execute(&buf, td.Data)
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template.kuki:33
	if err != nil {
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template.kuki:34
		return "", err
	}
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template.kuki:36
	return buf.String(), nil
}

//line /var/home/tluker/repos/go/kukicha/stdlib/template/template.kuki:40
func Parse(content string) TemplateData {
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template.kuki:41
	return TemplateData{Content: content, Data: make(map[string]any)}
}

//line /var/home/tluker/repos/go/kukicha/stdlib/template/template.kuki:45
func New() TemplateData {
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template.kuki:46
	return TemplateData{Content: "", Data: make(map[string]any)}
}

//line /var/home/tluker/repos/go/kukicha/stdlib/template/template.kuki:49
func WithContent(td TemplateData, content string) TemplateData {
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template.kuki:50
	td.Content = content
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template.kuki:51
	return td
}

//line /var/home/tluker/repos/go/kukicha/stdlib/template/template.kuki:55
func RenderSimple(tmplStr string, data map[string]any) (string, error) {
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template.kuki:56
	tmpl, err := template.New("template").Parse(tmplStr)
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template.kuki:57
	if err != nil {
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template.kuki:58
		return "", err
	}
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template.kuki:60
	buf := bytes.Buffer{}
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template.kuki:61
	err = tmpl.Execute(&buf, data)
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template.kuki:62
	if err != nil {
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template.kuki:63
		return "", err
	}
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template.kuki:65
	return buf.String(), nil
}

//line /var/home/tluker/repos/go/kukicha/stdlib/template/template.kuki:69
func Must(result string, err error) string {
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template.kuki:70
	if err != nil {
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template.kuki:71
		panic(err)
	}
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template.kuki:72
	return result
}

//line /var/home/tluker/repos/go/kukicha/stdlib/template/template.kuki:76
func Funcs(td TemplateData, funcMap map[string]any) TemplateData {
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template.kuki:80
	return td
}
