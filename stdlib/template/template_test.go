// Generated by Kukicha v0.0.9 (requires Go 1.26+)

package template_test

import (
	"github.com/duber000/kukicha/stdlib/template"
	"github.com/duber000/kukicha/stdlib/test"
	"testing"
)

//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:10
type RenderSimpleCase struct {
	name     string
	template string
	data     map[string]any
	want     string
	wantErr  bool
}

//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:17
func TestRenderSimple(t *testing.T) {
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:33
	cases := []RenderSimpleCase{RenderSimpleCase{name: "renders template with data", template: "Hello {{.Name}}", data: map[string]any{"Name": "Ari"}, want: "Hello Ari", wantErr: false}, RenderSimpleCase{name: "renders empty template", template: "", data: map[string]any{}, want: "", wantErr: false}}
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:34
	for _, tc := range cases {
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:35
		t.Run(tc.name, func(t *testing.T) {
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:36
			result, err := template.RenderSimple(tc.template, tc.data)
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:37
			if tc.wantErr {
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:38
				test.AssertError(t, err)
			} else {
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:40
				test.AssertNoError(t, err)
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:41
				test.AssertEqual(t, result, tc.want)
			}
		})
	}
}

//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:45
type ExecuteCase struct {
	name     string
	template string
	data     map[string]any
	want     string
	wantErr  bool
}

//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:52
func TestExecute(t *testing.T) {
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:68
	cases := []ExecuteCase{ExecuteCase{name: "renders template via builder", template: "Greetings {{.Name}}!", data: map[string]any{"Name": "Eve"}, want: "Greetings Eve!", wantErr: false}, ExecuteCase{name: "empty template", template: "", data: map[string]any{}, want: "", wantErr: false}}
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:69
	for _, tc := range cases {
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:70
		t.Run(tc.name, func(t *testing.T) {
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:71
			td := template.New()
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:72
			td = template.WithContent(td, tc.template)
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:73
			td = template.Data(td, tc.data)
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:74
			final, err := template.Execute(td)
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:75
			if tc.wantErr {
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:76
				test.AssertError(t, err)
			} else {
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:78
				test.AssertNoError(t, err)
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:79
				test.AssertEqual(t, final, tc.want)
			}
		})
	}
}

//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:83
type HTMLRenderSimpleCase struct {
	name     string
	template string
	data     map[string]any
	want     string
	wantErr  bool
}

//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:90
func TestHTMLRenderSimple(t *testing.T) {
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:106
	cases := []HTMLRenderSimpleCase{HTMLRenderSimpleCase{name: "escapes HTML content", template: "<b>{{.Value}}</b>", data: map[string]any{"Value": "<script>"}, want: "<b>&lt;script&gt;</b>", wantErr: false}, HTMLRenderSimpleCase{name: "renders plain text", template: "Hello {{.Name}}", data: map[string]any{"Name": "World"}, want: "Hello World", wantErr: false}}
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:107
	for _, tc := range cases {
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:108
		t.Run(tc.name, func(t *testing.T) {
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:109
			result, err := template.HTMLRenderSimple(tc.template, tc.data)
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:110
			if tc.wantErr {
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:111
				test.AssertError(t, err)
			} else {
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:113
				test.AssertNoError(t, err)
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:114
				test.AssertEqual(t, result, tc.want)
			}
		})
	}
}
