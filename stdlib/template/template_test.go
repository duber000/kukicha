// Generated by Kukicha v0.0.9 (requires Go 1.26+)

package template_test

import (
	kukistring "github.com/duber000/kukicha/stdlib/string"
	"github.com/duber000/kukicha/stdlib/template"
	"testing"
)

//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:10
func TestRenderSimple(t *testing.T) {
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:11
	result, err := template.RenderSimple("Hello {{.Name}}", map[string]any{"Name": "Ari"})
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:12
	if err != nil {
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:13
		t.Fatalf("RenderSimple failed: %v", err)
	}
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:14
	if result != "Hello Ari" {
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:15
		t.Errorf("Expected greeting, got %v", result)
	}
}

//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:18
func TestExecute(t *testing.T) {
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:19
	td := template.New()
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:20
	td = template.WithContent(td, "Greetings {{.Name}}!")
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:21
	td = template.Data(td, map[string]any{"Name": "Eve"})
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:22
	final, err := template.Execute(td)
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:23
	if err != nil {
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:24
		t.Fatalf("Execute failed: %v", err)
	}
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:25
	if final != "Greetings Eve!" {
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:26
		t.Errorf("Template pipeline produced wrong output")
	}
}

//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:29
func TestHTMLRenderSimple(t *testing.T) {
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:30
	result, err := template.HTMLRenderSimple("<b>{{.Value}}</b>", map[string]any{"Value": "<script>"})
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:31
	if err != nil {
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:32
		t.Fatalf("HTMLRenderSimple failed: %v", err)
	}
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:33
	if !kukistring.Contains(result, "&lt;script&gt;") {
//line /var/home/tluker/repos/go/kukicha/stdlib/template/template_test.kuki:34
		t.Errorf("Expected escaped content, got %v", result)
	}
}
