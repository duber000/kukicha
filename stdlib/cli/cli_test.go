// Generated by Kukicha v0.0.9 (requires Go 1.26+)

package cli_test

import (
	"github.com/duber000/kukicha/stdlib/cli"
	"github.com/duber000/kukicha/stdlib/test"
	"testing"
)

//line /var/home/tluker/repos/go/kukicha/stdlib/cli/cli_test.kuki:10
type GetStringCase struct {
	name string
	key  string
	want string
}

//line /var/home/tluker/repos/go/kukicha/stdlib/cli/cli_test.kuki:15
func TestGetString(t *testing.T) {
//line /var/home/tluker/repos/go/kukicha/stdlib/cli/cli_test.kuki:16
	values := make(map[string]string)
//line /var/home/tluker/repos/go/kukicha/stdlib/cli/cli_test.kuki:17
	values["format"] = "json"
//line /var/home/tluker/repos/go/kukicha/stdlib/cli/cli_test.kuki:18
	values["output"] = "result.txt"
//line /var/home/tluker/repos/go/kukicha/stdlib/cli/cli_test.kuki:19
	values["input"] = "main.kuki"
//line /var/home/tluker/repos/go/kukicha/stdlib/cli/cli_test.kuki:20
	args := cli.NewArgs(values)
//line /var/home/tluker/repos/go/kukicha/stdlib/cli/cli_test.kuki:26
	cases := []GetStringCase{GetStringCase{name: "existing key 1", key: "format", want: "json"}, GetStringCase{name: "existing key 2", key: "output", want: "result.txt"}, GetStringCase{name: "missing key", key: "missing", want: ""}}
//line /var/home/tluker/repos/go/kukicha/stdlib/cli/cli_test.kuki:27
	for _, tc := range cases {
//line /var/home/tluker/repos/go/kukicha/stdlib/cli/cli_test.kuki:28
		t.Run(tc.name, func(t *testing.T) {
//line /var/home/tluker/repos/go/kukicha/stdlib/cli/cli_test.kuki:29
			got := cli.GetString(args, tc.key)
//line /var/home/tluker/repos/go/kukicha/stdlib/cli/cli_test.kuki:30
			test.AssertEqual(t, got, tc.want)
		})
	}
}

//line /var/home/tluker/repos/go/kukicha/stdlib/cli/cli_test.kuki:34
type GetBoolCase struct {
	name string
	key  string
	want bool
}

//line /var/home/tluker/repos/go/kukicha/stdlib/cli/cli_test.kuki:39
func TestGetBool(t *testing.T) {
//line /var/home/tluker/repos/go/kukicha/stdlib/cli/cli_test.kuki:40
	values := make(map[string]string)
//line /var/home/tluker/repos/go/kukicha/stdlib/cli/cli_test.kuki:41
	values["verbose"] = "true"
//line /var/home/tluker/repos/go/kukicha/stdlib/cli/cli_test.kuki:42
	values["quiet"] = "false"
//line /var/home/tluker/repos/go/kukicha/stdlib/cli/cli_test.kuki:43
	values["debug"] = "yes"
//line /var/home/tluker/repos/go/kukicha/stdlib/cli/cli_test.kuki:44
	values["enabled"] = "1"
//line /var/home/tluker/repos/go/kukicha/stdlib/cli/cli_test.kuki:45
	args := cli.NewArgs(values)
//line /var/home/tluker/repos/go/kukicha/stdlib/cli/cli_test.kuki:53
	cases := []GetBoolCase{GetBoolCase{name: "true string", key: "verbose", want: true}, GetBoolCase{name: "false string", key: "quiet", want: false}, GetBoolCase{name: "yes string", key: "debug", want: true}, GetBoolCase{name: "1 string", key: "enabled", want: true}, GetBoolCase{name: "missing flag", key: "missing", want: false}}
//line /var/home/tluker/repos/go/kukicha/stdlib/cli/cli_test.kuki:54
	for _, tc := range cases {
//line /var/home/tluker/repos/go/kukicha/stdlib/cli/cli_test.kuki:55
		t.Run(tc.name, func(t *testing.T) {
//line /var/home/tluker/repos/go/kukicha/stdlib/cli/cli_test.kuki:56
			got := cli.GetBool(args, tc.key)
//line /var/home/tluker/repos/go/kukicha/stdlib/cli/cli_test.kuki:57
			test.AssertEqual(t, got, tc.want)
		})
	}
}

//line /var/home/tluker/repos/go/kukicha/stdlib/cli/cli_test.kuki:61
type GetIntCase struct {
	name    string
	key     string
	want    int
	wantErr bool
}

//line /var/home/tluker/repos/go/kukicha/stdlib/cli/cli_test.kuki:67
func TestGetInt(t *testing.T) {
//line /var/home/tluker/repos/go/kukicha/stdlib/cli/cli_test.kuki:68
	values := make(map[string]string)
//line /var/home/tluker/repos/go/kukicha/stdlib/cli/cli_test.kuki:69
	values["count"] = "42"
//line /var/home/tluker/repos/go/kukicha/stdlib/cli/cli_test.kuki:70
	values["port"] = "8080"
//line /var/home/tluker/repos/go/kukicha/stdlib/cli/cli_test.kuki:71
	values["invalid"] = "not-a-number"
//line /var/home/tluker/repos/go/kukicha/stdlib/cli/cli_test.kuki:72
	args := cli.NewArgs(values)
//line /var/home/tluker/repos/go/kukicha/stdlib/cli/cli_test.kuki:79
	cases := []GetIntCase{GetIntCase{name: "valid int 1", key: "count", want: 42, wantErr: false}, GetIntCase{name: "valid int 2", key: "port", want: 8080, wantErr: false}, GetIntCase{name: "invalid int", key: "invalid", want: 0, wantErr: true}, GetIntCase{name: "missing value", key: "missing", want: 0, wantErr: true}}
//line /var/home/tluker/repos/go/kukicha/stdlib/cli/cli_test.kuki:80
	for _, tc := range cases {
//line /var/home/tluker/repos/go/kukicha/stdlib/cli/cli_test.kuki:81
		t.Run(tc.name, func(t *testing.T) {
//line /var/home/tluker/repos/go/kukicha/stdlib/cli/cli_test.kuki:82
			got, err := cli.GetInt(args, tc.key)
//line /var/home/tluker/repos/go/kukicha/stdlib/cli/cli_test.kuki:83
			if tc.wantErr {
//line /var/home/tluker/repos/go/kukicha/stdlib/cli/cli_test.kuki:84
				test.AssertError(t, err)
			} else {
//line /var/home/tluker/repos/go/kukicha/stdlib/cli/cli_test.kuki:86
				test.AssertNoError(t, err)
//line /var/home/tluker/repos/go/kukicha/stdlib/cli/cli_test.kuki:87
				test.AssertEqual(t, got, tc.want)
			}
		})
	}
}
