# Tests for Kukicha Standard Library - Maps Package

petiole maps_test

import "stdlib/maps"
import "testing"

func containsValue(items list of any, target any) bool
    for item in items
        if item == target
            return true
    return false

# Test Keys, Values, and Contains helpers
func TestMapHelpers(t reference testing.T)
    # Maps package functions exist and are accessible
    # Detailed type compatibility testing requires maps of compatible types
    sample := map of any to any{("a" as any): ("1" as any), ("b" as any): ("2" as any)}
    keys := maps.Keys(sample)
    if len(keys) != 2
        t.Fatalf("Expected 2 keys, got {len(keys)}")
    if not containsValue(keys, "a")
        t.Errorf("Keys should include 'a'")

    values := maps.Values(sample)
    if len(values) != 2
        t.Fatalf("Expected 2 values, got {len(values)}")
    if not containsValue(values, "2")
        t.Errorf("Values should include '2'")

    if not maps.Contains(sample, "a")
        t.Errorf("Contains should return true for existing key")
    if maps.Contains(sample, "missing")
        t.Errorf("Contains should return false for missing key")
