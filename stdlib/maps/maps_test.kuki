# Tests for Kukicha Standard Library - Maps Package

petiole maps_test

import "stdlib/maps"
import "testing"

func containsValue(list list of any, target any) bool
    for _, item in list
        if item equals target
            return true
    return false

# Test Keys, Values, and Contains helpers
func TestMapHelpers(t reference testing.T)
    sample := map of string to int{"a": 1, "b": 2}
    keys := maps.Keys(sample)
    if len(keys) not equals 2
        t.Fatalf("Expected 2 keys, got {len(keys)}")
    if not containsValue(keys, "a")
        t.Errorf("Keys should include 'a'")

    values := maps.Values(sample)
    if len(values) not equals 2
        t.Fatalf("Expected 2 values, got {len(values)}")
    if not containsValue(values, 2)
        t.Errorf("Values should include 2")

    if not maps.Contains(sample, "a")
        t.Errorf("Contains should return true for existing key")
    if maps.Contains(sample, "missing")
        t.Errorf("Contains should return false for missing key")
