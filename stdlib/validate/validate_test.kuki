# Tests for Kukicha Standard Library - Validate Package

petiole validate_test

import "stdlib/validate"
import "testing"

# Test string validators pass and fail as expected
func TestStringValidators(t reference testing.T)
    _, err := validate.NotEmpty("text")
    if err != empty
        t.Fatalf("NotEmpty should succeed for non-empty string")
    _, err2 := validate.NotEmpty("   ")
    if err2 == empty
        t.Fatalf("NotEmpty should fail for whitespace-only strings")

    _, err3 := validate.Email("user@example.com")
    if err3 != empty
        t.Fatalf("Email validation failed for valid address")
    _, err4 := validate.Email("bad-email")
    if err4 == empty
        t.Fatalf("Email should reject invalid addresses")

    _, err5 := validate.URL("https://example.com")
    if err5 != empty
        t.Fatalf("Valid URL should pass")
    _, err6 := validate.URL("://bad")
    if err6 == empty
        t.Fatalf("Invalid URL should fail")

    _, err7 := validate.MinLength("hello", 3)
    if err7 != empty
        t.Fatalf("MinLength should succeed when length sufficient")
    _, err8 := validate.MinLength("hi", 3)
    if err8 == empty
        t.Fatalf("MinLength should fail when too short")

    _, err9 := validate.MaxLength("hi", 5)
    if err9 != empty
        t.Fatalf("MaxLength should accept short string")
    _, err10 := validate.MaxLength("longer", 3)
    if err10 == empty
        t.Fatalf("MaxLength should fail when string too long")

# Test number validators
func TestNumberValidators(t reference testing.T)
    _, err11 := validate.InRange(5, 1, 10)
    if err11 != empty
        t.Fatalf("InRange should accept value inside range")
    _, err12 := validate.InRange(-1, 0, 5)
    if err12 == empty
        t.Fatalf("InRange should reject values outside range")

    _, err13 := validate.Positive(1)
    if err13 != empty
        t.Fatalf("Positive should accept positives")
    _, err14 := validate.Positive(0)
    if err14 == empty
        t.Fatalf("Positive should reject zero")

    _, err15 := validate.Negative(-1)
    if err15 != empty
        t.Fatalf("Negative should accept negatives")
    _, err16 := validate.Negative(0)
    if err16 == empty
        t.Fatalf("Negative should reject zero")

    _, err17 := validate.NonZero(2)
    if err17 != empty
        t.Fatalf("NonZero should accept non-zero values")
    _, err18 := validate.NonZero(0)
    if err18 == empty
        t.Fatalf("NonZero should reject zero")
