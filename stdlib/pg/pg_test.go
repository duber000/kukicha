// Generated by Kukicha v0.0.4 (requires Go 1.26+)
//
// Performance: GOEXPERIMENT=jsonv2 enables faster JSON parsing (2-10x improvement)

package pg_test

import (
	"github.com/duber000/kukicha/stdlib/pg"
	"testing"
)

//line /var/home/tluker/repos/go/kukicha/stdlib/pg/pg_test.kuki:11
func TestNewConfig(t *testing.T) {
//line /var/home/tluker/repos/go/kukicha/stdlib/pg/pg_test.kuki:12
	cfg := pg.New("postgres://user:pass@localhost/testdb")
//line /var/home/tluker/repos/go/kukicha/stdlib/pg/pg_test.kuki:15
	cfg = pg.MinConns(pg.MaxConns(cfg, 10), 2)
}

//line /var/home/tluker/repos/go/kukicha/stdlib/pg/pg_test.kuki:19
func TestMaxConns(t *testing.T) {
//line /var/home/tluker/repos/go/kukicha/stdlib/pg/pg_test.kuki:20
	cfg := pg.MaxConns(pg.New("postgres://localhost/test"), 20)
//line /var/home/tluker/repos/go/kukicha/stdlib/pg/pg_test.kuki:22
	cfg = pg.MinConns(cfg, 5)
}

//line /var/home/tluker/repos/go/kukicha/stdlib/pg/pg_test.kuki:25
func TestMaxConnLifetime(t *testing.T) {
//line /var/home/tluker/repos/go/kukicha/stdlib/pg/pg_test.kuki:26
	cfg := pg.MaxConnLifetime(pg.New("postgres://localhost/test"), 3600000000000)
//line /var/home/tluker/repos/go/kukicha/stdlib/pg/pg_test.kuki:27
	cfg = pg.MaxConnIdleTime(cfg, 600000000000)
}

//line /var/home/tluker/repos/go/kukicha/stdlib/pg/pg_test.kuki:30
func TestRowsAffected(t *testing.T) {
//line /var/home/tluker/repos/go/kukicha/stdlib/pg/pg_test.kuki:31
	r := pg.Result{}
//line /var/home/tluker/repos/go/kukicha/stdlib/pg/pg_test.kuki:32
	count := pg.RowsAffected(r)
//line /var/home/tluker/repos/go/kukicha/stdlib/pg/pg_test.kuki:33
	if count != 0 {
//line /var/home/tluker/repos/go/kukicha/stdlib/pg/pg_test.kuki:34
		t.Errorf("Expected 0 rows affected, got %v", count)
	}
}
