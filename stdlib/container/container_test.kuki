# Container Package Tests

petiole container_test

import "stdlib/container"
import "testing"

# Test basic types and structures
func TestBasicTypes(t reference testing.T)
    # Test that we can create basic types
    config := container.Config{}
    containerInfo := container.ContainerInfo{}
    imageInfo := container.ImageInfo{}
    buildOutput := container.BuildOutput{}
    auth := container.Auth{}
    event := container.ContainerEvent{}

    # Verify types can be instantiated without panic
    # (value types cannot be compared to empty)
    _ = config
    _ = containerInfo
    _ = imageInfo
    _ = buildOutput
    _ = auth
    _ = event

# Test config builder pattern
func TestConfigBuilder(t reference testing.T)
    # Test configuration builder - verify builders don't panic
    cfg := container.New()
    cfg = container.Host(cfg, "unix:///var/run/docker.sock")
    cfg = container.APIVersion(cfg, "1.41")

    # Builders should succeed without panic

# Test Auth functions
func TestAuthFunctions(t reference testing.T)
    # Test Login function
    auth := container.Login("username", "password", "registry.example.com")

    # Test AuthEncode function
    encoded := container.AuthEncode(auth)
    if encoded == ""
        t.Error("Expected encoded to be non-empty")

# Accessor functions require internal struct construction which isn't supported
# from Kukicha code since struct fields are private. Integration tests via
# actual container operations would be needed for full coverage.

# Smoke test that container types can be created
func TestContainerTypes(t reference testing.T)
    # We can't test actual Docker functionality without a running Docker daemon
    # Smoke test that basic types can be created
    auth := container.Auth{}
    # Verify Auth type can be instantiated
    _ = auth