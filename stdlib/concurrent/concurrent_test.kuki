# Concurrent Package Tests

petiole concurrent_test

import "stdlib/concurrent"
import "testing"

# Test Parallel with empty task list
func TestParallelEmpty(t reference testing.T)
    emptyTasks := empty list of func()
    concurrent.Parallel(many emptyTasks)
    # Should complete without error
    t.Logf("Parallel completed with empty task list")

# Test ParallelWithLimit with empty task list
func TestParallelWithLimitEmpty(t reference testing.T)
    emptyTasks := empty list of func()
    concurrent.ParallelWithLimit(5, many emptyTasks)
    # Should complete without error
    t.Logf("ParallelWithLimit completed with empty task list")

# Test Parallel with single task
func TestParallelSingleTask(t reference testing.T)
    taskRun := false
    task := func()
        taskRun = true

    concurrent.Parallel(task)
    if not taskRun
        t.Errorf("Task should have been executed")