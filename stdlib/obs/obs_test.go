// Generated by Kukicha v0.0.9 (requires Go 1.26+)

package obs_test

import (
	"github.com/duber000/kukicha/stdlib/obs"
	"testing"
)

//line /var/home/tluker/repos/go/kukicha/stdlib/obs/obs_test.kuki:9
func TestLoggerFields(t *testing.T) {
//line /var/home/tluker/repos/go/kukicha/stdlib/obs/obs_test.kuki:10
	logger := obs.New("svc", "env")
//line /var/home/tluker/repos/go/kukicha/stdlib/obs/obs_test.kuki:11
	logger = obs.Component(logger, "api")
//line /var/home/tluker/repos/go/kukicha/stdlib/obs/obs_test.kuki:12
	logger = obs.WithCorrelation(logger, "cid")
}

//line /var/home/tluker/repos/go/kukicha/stdlib/obs/obs_test.kuki:18
func TestCorrelationID(t *testing.T) {
//line /var/home/tluker/repos/go/kukicha/stdlib/obs/obs_test.kuki:19
	id := obs.NewCorrelationID()
//line /var/home/tluker/repos/go/kukicha/stdlib/obs/obs_test.kuki:20
	if len(id) != 16 {
//line /var/home/tluker/repos/go/kukicha/stdlib/obs/obs_test.kuki:21
		t.Errorf("Correlation IDs should be 16 chars long")
	}
}

//line /var/home/tluker/repos/go/kukicha/stdlib/obs/obs_test.kuki:24
func TestTimerStopFail(t *testing.T) {
//line /var/home/tluker/repos/go/kukicha/stdlib/obs/obs_test.kuki:25
	logger := obs.New("svc", "env")
//line /var/home/tluker/repos/go/kukicha/stdlib/obs/obs_test.kuki:26
	timer := obs.Start(logger, "op")
//line /var/home/tluker/repos/go/kukicha/stdlib/obs/obs_test.kuki:27
	obs.Stop(timer, map[string]any{})
//line /var/home/tluker/repos/go/kukicha/stdlib/obs/obs_test.kuki:28
	obs.Fail(timer, "error", map[string]any{})
}
